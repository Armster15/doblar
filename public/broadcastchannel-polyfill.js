/* 
BroadcastChannel API Polyfill from https://gist.github.com/sechel/e6aff22d9e56df02c5bd09c4afc516e6
Minified with esbuild
*/
(function(r){var n=[];function o(t){var i=this;t=String(t);var e="$BroadcastChannel$"+t+"$";n[e]=n[e]||[],n[e].push(this),this._name=t,this._id=e,this._closed=!1,this._mc=new MessageChannel,this._mc.port1.start(),this._mc.port2.start(),r.addEventListener("storage",function(s){if(s.storageArea===r.localStorage&&s.newValue!==null&&s.key.substring(0,e.length)===e){var a=JSON.parse(s.newValue);i._mc.port2.postMessage(a)}})}o.prototype={get name(){return this._name},postMessage:function(t){var i=this;if(this._closed){var e=new Error;throw e.name="InvalidStateError",e}var s=JSON.stringify(t),a=this._id+String(Date.now())+"$"+String(Math.random());r.localStorage.setItem(a,s),setTimeout(function(){r.localStorage.removeItem(a)},500),n[this._id].forEach(function(c){c!==i&&c._mc.port2.postMessage(JSON.parse(s))})},close:function(){if(!this._closed){this._closed=!0,this._mc.port1.close(),this._mc.port2.close();var t=n[this._id].indexOf(this);n[this._id].splice(t,1)}},get onmessage(){return this._mc.port1.onmessage},set onmessage(t){this._mc.port1.onmessage=t},addEventListener:function(t,i){return this._mc.port1.addEventListener.apply(this._mc.port1,arguments)},removeEventListener:function(t,i){return this._mc.port1.removeEventListener.apply(this._mc.port1,arguments)},dispatchEvent:function(t){return this._mc.port1.dispatchEvent.apply(this._mc.port1,arguments)}},r.BroadcastChannel=r.BroadcastChannel||o})(self);
